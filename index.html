<div id="page-wrapper">

		<h1>Text File Reader</h1>
		<div>
			Select a text file:
			<input type="file" id="fileInput">
		</div>
    <input type="button" id="evaluate" value="Evaluate text" onclick="readText();"/>
    <pre id="wordLength"></pre>
    <pre id="wordOccurance"></pre>
    <pre id="primeOccurance"></pre>
		<pre id="fileDisplayArea"><pre>

	</div>
  <script src="src/FileReader.js"></script>
  <script type="text/javascript">
  window.onload = function() {
  var fileInput = document.getElementById('fileInput');
  var fileDisplayArea = document.getElementById('fileDisplayArea');

  fileInput.addEventListener('change', function(e) {
    var file = fileInput.files[0];
    var textType = /text.*/;

    if (file.type.match(textType)) {
      var reader = new FileReader();

      reader.onload = function(e) {
        fileDisplayArea.innerText = reader.result;
      }

      reader.readAsText(file);

    } else {
      fileDisplayArea.innerText = "File not supported!"
    }
  });
}
readText = () =>{
var fileReader = new TextFileReader()
var fileDisplayArea = document.getElementById('fileDisplayArea');
  fileReader.fileWordOccurances(fileDisplayArea.innerText)
  fileReader.sortWordFrequency(fileReader.wordStore)
  fileReader.checkPrimeFrequency()
  console.log(fileReader.wordStore)
  console.log(fileReader.wordFrequency)
  console.log(fileReader.primeNumberFrequency)

  wordLength.innerText = "length: " +fileReader.wordStore.length + " words"
  wordOccurance.innerText = Object.keys(fileReader.primeNumberFrequency)
  primeOccurance.innerText = Object.values(fileReader.primeNumberFrequency)
}
  </script>
