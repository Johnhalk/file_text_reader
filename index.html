<div id="page-wrapper">

		<h1>Text File Reader</h1>
		<div>
			Select a text file:
			<input type="file" id="fileInput">
		</div>
    <input type="button" id="evaluate" value="Evaluate text" onclick="readText();"/>
    <pre id="wordLength"></pre>
    <pre id="wordOccurance"></pre>
    <pre id="primeOccurance"></pre>
		<pre id="fileDisplayArea"><pre>

	</div>
  <script src="src/FileReader.js"></script>
  <script type="text/javascript">
  window.onload = function() {
  var fileInput = document.getElementById('fileInput');
  var fileDisplayArea = document.getElementById('fileDisplayArea');

  fileInput.addEventListener('change', function(e) {
    var file = fileInput.files[0];
    var textType = /text.*/;
    if (file.type.match(textType)) {
      var reader = new FileReader();
      reader.onload = function(e) {
        fileDisplayArea.innerText = reader.result;
      }
      reader.readAsText(file);
    } else {
      fileDisplayArea.innerText = "File not supported!"
    }
  });
}
readText = () =>{
var fileReader = new TextFileReader()
var fileDisplayArea = document.getElementById('fileDisplayArea');
  fileReader.fileWordOccurances(fileDisplayArea.innerText)
  fileReader.sortWordFrequency(fileReader.allWords)
  fileReader.sortWords()
  fileReader.sortFrequency()
  fileReader.sortPrimes()
  fileReader.createFinalResults()
  console.log(fileReader.allWords)
  console.log(fileReader.wordFrequency)
  console.log("Break one")
  console.log(fileReader.wordFrequency)
  console.log(Object.keys(fileReader.wordFrequency))
  console.log(fileReader.wordStore)
  console.log("Break two")
  console.log(fileReader.wordFrequencyStore)
  console.log(fileReader.primeStore)
  console.log("Break three")

  console.log(fileReader.finalResults)
  console.log(fileReader.finalResults[0])


  wordLength.innerText = "length: " + Object.keys(fileReader.wordFrequency).length + " words"
  wordOccurance.innerText = fileReader.finalResults[0]
}
  </script>
